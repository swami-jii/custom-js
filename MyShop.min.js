document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".carousel-wrapper"),t=document.querySelector(".carousel-btn.right"),n=document.querySelector(".carousel-btn.left"),o=document.querySelectorAll(".carousel-card"),r=o[0]?.offsetWidth+16||300,l,c;function i(){return window.innerWidth<=768}function s(){r=o[0]?.offsetWidth+16||300}function a(){if(i())return;let e=document.querySelector(".elementor-element.elementor-element-f5980e0.e-grid.e-con-full.carousel-wrapper");e&&(l=setInterval(()=>{e.scrollBy({left:250,behavior:"smooth"}),e.scrollLeft+e.clientWidth>=e.scrollWidth-250&&setTimeout(()=>{e.scrollTo({left:0,behavior:"auto"})},500)},2e3))}function d(){clearInterval(l),clearTimeout(c)}function u(){i()||(d(),c=setTimeout(a,1e3))}t?.addEventListener("click",function(){d(),e.scrollBy({left:r,behavior:"smooth"}),u()}),n?.addEventListener("click",function(){d(),e.scrollBy({left:-r,behavior:"smooth"}),u()}),i()||a(),e?.addEventListener("mouseenter",d),e?.addEventListener("mouseleave",u),window.addEventListener("resize",function(){s(),d(),i()||a()}),s();let f=document.getElementById("seeAllBtn"),m=!1;f?.addEventListener("click",function(){m=!m,e?.classList.toggle("expanded",m),f.innerText=m?"See Less":"See All"});let v=document.querySelector(".elementor-divider__text");function p(){let e=setInterval(()=>{let t=document.querySelector(".woocommerce-ordering select");if(t&&(clearInterval(e),!document.querySelector(".custom-dropdown"))){let n=document.createElement("div");n.className="custom-dropdown";let o=document.createElement("div");o.className="selected",o.textContent=t.options[t.selectedIndex].text;let r=document.createElement("div");r.className="dropdown-options",[...t.options].forEach((e,n)=>{let l=document.createElement("div");l.textContent=e.text,l.dataset.value=e.value,n===t.selectedIndex&&l.classList.add("active"),l.addEventListener("click",()=>{o.textContent=e.text,t.value=e.value,r.querySelectorAll("div").forEach(e=>e.classList.remove("active")),l.classList.add("active"),r.style.display="none",t.dispatchEvent(new Event("change"))}),r.appendChild(l)}),n.append(o,r),t.parentNode.insertBefore(n,t),n.style.visibility="visible",n.style.opacity="1",o.addEventListener("click",()=>{r.style.display="block"===r.style.display?"none":"block"}),document.addEventListener("click",e=>{n.contains(e.target)||(r.style.display="none")})}},50)}document.querySelectorAll(".carousel-card").forEach(e=>{e.addEventListener("click",function(){let t=e.querySelector(".elementor-image-box-description, .elementor-image-caption, figcaption");t?.innerText.trim()&&(v.textContent=t.innerText.trim())})}),p(),setTimeout(p,10);let y=document.querySelector(".woocommerce-result-count"),h=document.querySelector(".products"),$=h?Array.from(h.children):[];new MutationObserver(()=>(function e(){if(document.querySelector(".custom-show-all-btn")||!y||!h)return;let t=document.createElement("button");t.textContent="Show All Products",t.classList.add("custom-show-all-btn"),y.parentNode.insertBefore(t,y),t.addEventListener("click",function(){h.innerHTML="",$.forEach(e=>h.appendChild(e)),y.textContent=`Showing all ${$.length} products`,v&&(v.textContent="My Shop")})})()).observe(document.body,{childList:!0,subtree:!0});let L={},S,E;function b(e,t){h&&(h.innerHTML=e.trim()||'<div class="filter-no-products-message">No products available in this category.</div>',L[t]=e,w())}function g(e=""){if(L[e])return b(L[e],e);clearTimeout(E),E=setTimeout(()=>{S&&S.abort(),S=new XMLHttpRequest;let t=`${window.location.origin}${window.location.pathname}${e?"?product_cat="+e:""}`;S.open("GET",t,!0),S.onreadystatechange=function(){4===S.readyState&&200===S.status&&b(new DOMParser().parseFromString(S.responseText,"text/html").querySelector(".products")?.innerHTML||"",e)},S.send()},100)}function w(){let e=document.querySelectorAll(".elementor-widget-wc-archive-products .product:not([style*='display: none'])").length,t=document.querySelector(".woocommerce-result-count");t&&(t.textContent=`Showing ${e} results`)}setTimeout(()=>g(),10),document.querySelectorAll(".carousel-card").forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".carousel-card").forEach(e=>e.classList.remove("active")),this.classList.add("active"),g(this.id)})});let x=document.querySelector(".elementor-widget-wc-archive-products ul.products");x&&new MutationObserver(()=>w()).observe(x,{childList:!0,subtree:!0,attributes:!0})});
